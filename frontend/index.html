<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<title>Projecto AW</title>
	<link rel="stylesheet" href="ajax/AutoComplete.css" media="screen" type="text/css" />
	<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
	<!--[if lte IE 6]><link rel="stylesheet" href="css/ie6.css" type="text/css" media="all" /><![endif]-->
	<script type="text/javascript" src="ajax/util.js"></script>
	<script type="text/javascript" src="ajax/autocomplete.js"></script>
	<script type="text/javascript" src="ajax/prototype.js"></script>
	<script type="text/javascript" src="classes/Clube.js"></script>
	<script type="text/javascript" src="classes/Local.js"></script>
	<script type="text/javascript" src="classes/Tempo.js"></script>
	<script type="text/javascript" src="classes/Noticia.js"></script>
	<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>
	<script type="text/javascript">
	
	var map;
	var nome_localArray = new Array();
	var locais = new Array();
	var ultimasNoticias = new Array();
	var noticias = new Array();
	
  	function initialize() {
    		// LatLong de Liboa
    		var latlng = new google.maps.LatLng(38.71284,-9.135475);
    		// Opção iniciais para o mapa
    		var myOptions = {
      							zoom: 6,
      							center: latlng,
      							mapTypeId: google.maps.MapTypeId.ROADMAP
    						};
    		// Criação do Mapa
    		map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    		
    		getAllLocais();
    		//getAllClubes();
    		//getAllIntegrantes();
    		var tempo = new Tempo();
    		tempo.getUltimasNoticias(function (result){
  				ultimasNoticias = result;
  			});
    		setInitialMarks();
    		//teste = new Array("A", "B", "C");
    		//AutoComplete_Create("filtro", teste);
  		}
 
  		function changeInputSearch(optionIndex) {
  			if(optionIndex == 3) {
  				document.getElementById("filtro").type = "hidden";
  				document.getElementById("filtroDataAno").type = "text";
  				document.getElementById("filtroDataMes").type = "text";
  				document.getElementById("filtroDataDia").type = "text";
  			}
  			else {
  				document.getElementById("filtro").type = "text";
  				document.getElementById("filtroDataAno").type = "hidden";
  				document.getElementById("filtroDataMes").type = "hidden";
  				document.getElementById("filtroDataDia").type = "hidden";
  			}
  		}
  		function changeAutoComplete() {
  			//alert(document.getElementById("pesquisaPor").value);
  		}
  		
  		function getAllLocais() {
  			// Requisição de todos os locais para o WebService
  			var local = new Local();
  			local.getAllLocais(function (result){
  				locais = result;
  			});
  			
  			//Criação do Array com nome dos locais para AutoComplete
  			createNomeLocalArray(locais);
  		}
  		
  		function showAllClubes() {
  			$("showResult").src="./results/clubes.html";
  			$("showResult").style.display = "inline";
  		}
  		
  		function showAllLocais() {
  			$("showResult").src="./results/locais.html";
  			$("showResult").style.display = "inline";
  			
  			// Requisição de todos os locais para o WebService
  			var local = new Local();
  			local.getAllLocais(function (result){
  				locais = result;
  				$("showResult").src="./results/locais.html";
  				$("showResult").style.display = "inline";
  			});
  		}
  		
  		function setInitialMarks() {
  			//Criação das marcas no mapa
  			var marker;
	  		var latlong;
	  		var coordUltimasNoticias = new Array();
	  		
	  		/* Recuperação das coordenadas dos locais das últimas notícias */
	  		for(i=0; i<ultimasNoticias.length; i++) {
				var result = ultimasNoticias[i].dataInterpretada;
				for(var m=0; m<ultimasNoticias[i].noticias.length; m++) {
				   	var idNoticia = ultimasNoticias[i].noticias[m].idnoticia;
				   	alert(idNoticia);
				}
				//alert(result);
			}
	  			
	  			//coord = locais[i].coordenadas.split(";");
	  			/*local = new google.maps.LatLng(parseFloat(coord[0]), parseFloat(coord[1]));
	  			nome_local = locais[i].nome_local;
	  			marker = new google.maps.Marker({
			  			position: local,
			  			title: nome_local
			  		});
			  		marker.setMap(map);
			  		*/
  		}
  		
  		function createNomeLocalArray(locaisObjArray) {
  			for(var i=0; i<locaisObjArray.length; i++) {
  				nome_localArray[i] = locaisObjArray[i].nome_local;
  			}
  		}
  			
	</script>
</head>
<body onload="initialize()">
	<!-- Header -->
	<div id="header">
		<div class="shell">
			<!-- Logo -->
			<h1 id="logo" class="notext"><a href="#">Sport Zone Sport Portal</a></h1>
			<!-- End Logo -->
		</div>
	</div>
	<!-- End Header -->
	
	<form name="pesquisa"> 
	<div id="navigation">
		<center>
		<div class="shell">
			<div class="cl">&nbsp;</div>
			<ul>
			    <li><a href="#">Pesquisa </a></li>
			    <!-- <li><br /><select id="pesquisaPor" onchange="changeInputSearch(this.selectedIndex)">
			    			<option value="clubes">Clubes</option>
			    			<option value="pessoas">Pessoas</option>
			    			<option value="local">Local</option>
			    			<option value="data">Data</option>
			    		</select></li> -->
			    <li><br /><input type="text" id="filtro" size="50" />
			    		<!-- <input type="hidden" id="filtroDataAno" size="13" value="Ano" />&nbsp;&nbsp;&nbsp;
			    		<input type="hidden" id="filtroDataMes" size="13" value="Mes" />&nbsp;&nbsp;&nbsp;
			    		<input type="hidden" id="filtroDataDia" size="13" value="Dia" /> -->
			    </li>
			    <li><a href="#" onclick=searchParameter(1)><img src="css/images/search.png" border="0" alt="Search" /></a></li>
			    <li><a href="#">Administração</a></li>
			</ul>
			<div class="cl">&nbsp;</div>
		</div>
		</center>
	</div>
	</form>
	<!-- Heading -->
	<div id="heading">
		<div class="shell">
			<div id="heading-cnt">
				
				<!-- Sub nav -->
				<!--  <div id="side-nav">
					<ul>
					    <li class="active"><div class="link"><a href="#">home</a></div></li>
					    <li><div class="link"><a href="javascript:showAllClubes()">clubes</a></div></li>
					    <li><div class="link"><a href="#">pessoas</a></div></li>
					    <li><div class="link"><a href=javascript:showAllLocais()>locais</a></div></li>
					    <li><div class="link"><a href="#">datas</a></div></li>
					</ul>
				</div> -->
				 <!--  End Sub nav -->
				
				<!-- Widget -->
				<div id="heading-box">
					<div id="heading-box-cnt">
						<div class="cl">&nbsp;</div>
						
						<!--  <div id="map_canvas" style="width:438px; height:310px"></div> -->
						<!-- Main Slide Item -->
						<div class="featured-main">
							<!-- <a href="#"><img id="map_canvas" src="css/images/featured-main.jpg" alt="" /></a> -->
							<div id="map_canvas" style="width:705px; height:310px"></div>
							
						</div>
						<!-- End Main Slide Item -->
						
						<div class="featured-side">
							
							<!-- Slide Item 1 
							<div class="featured-side-item">
								<div class="cl">&nbsp;</div>
								<a href="#" class="left"><img src="css/images/benfica.png" alt="" /></a>
								<br><h4><a href="#">Sport Lisboa e Benfica</a></h4>
								<p>&nbsp;</p>
								<div class="cl">&nbsp;</div>
							</div>
							<!-- End Slide Item 1 
							
							<!-- Slide Item 2 
							<div class="featured-side-item">
								<div class="cl">&nbsp;</div>
								<a href="#" class="left"><img src="css/images/porto.jpg" alt="" /></a>
								<br><h4><a href="#">Sport Clube do Porto</a></h4>
								<p>&nbsp;</p>
								<div class="cl">&nbsp;</div>
							</div>
							<!-- End Slide Item 2 
							
							<!-- Slide Item 3 
							<div class="featured-side-item">
								<div class="cl">&nbsp;</div>
								<a href="#" class="left"><img src="css/images/Sporting.png" alt="" /></a>
								<br><h4><a href="#">Sporting Clube de Portugal</a></h4>
								<p>&nbsp;</p>
								<div class="cl">&nbsp;</div>
							</div>
							<!-- End Slide Item 3 
							
							<!-- Slide Item 4 
							<div class="featured-side-item">
								<div class="cl">&nbsp;</div>
								<a href="#" class="left"><img src="css/images/braga.gif" alt="" /></a>
								<br><h4><a href="#">Sporting Clube de Braga</a></h4>
								<p>&nbsp;</p>
								<div class="cl">&nbsp;</div>
							</div>
							<!-- End Slide Item 4 
							
							<!-- Slide Item 5 
							<div class="featured-side-item">
								<div class="cl">&nbsp;</div>
								<a href="#" class="left"><img src="css/images/cdn.gif" alt="" /></a>
								<br><h4><a href="#">Centro Desportivo Nacional</a></h4>
								<p>&nbsp;</p>
								<div class="cl">&nbsp;</div>
							</div>
							<!-- End Slide Item 5 -->
						</div>
						<div class="cl">&nbsp;</div>						
					</div>
				</div>
				<!-- End Widget -->
				
			</div>			
		</div>
	</div>
	<!-- End Heading -->
	
	<!-- Main -->
	<div id="main">
		<div class="shell">		
			<div class="cl">&nbsp;</div>	
			<div id="sidebar">
				<h2>news spot</h2>
				<ul>
				    <li>
				    	<small class="date">12.05.09</small>
				    	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
				    </li>
				    <li>
				    	<small class="date">12.05.09</small>
				    	<p>Donec venenatis varius urna vitae congue.</p>
				    </li>
				    <li>
				    	<small class="date">12.05.09</small>
				    	<p>Ullam vel neque ut lectus cursus dapibus.</p>
				    </li>
				    <li>
				    	<small class="date">12.05.09</small>
				    	<p>Praesent pellentesque arcu convallis ante dignissim quis ultrices felis iaculis.</p>
				    </li>
				    <li>
				    	<small class="date">12.05.09</small>
				    	<p>Ut eget lorem elit. Donec lorem eros, congue vel mollis non, tincidunt a nisl.</p>
				    </li>
				    <li>
				    	<small class="date">12.05.09</small>
				    	<p>Curabitur consectetur tellus a diam tincidunt pellentesque. </p>
				    </li>
				</ul>
				<a href="#" class="archives">News Archives</a>
			</div>
			<div id="content">
				<!--  <div class="cl">&nbsp;</div>
				<div class="grey-box">
					<h3><a href="#">Lorem ipsum dolor sit amet.</a></h3>
					<a href="#"><img src="css/images/main-1.jpg" alt="" /></a>
					<p>
						<span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur elementum, odio tincidunt egestas</span>
						<a href="#" class="button">Read more</a>
					 </p>
				</div>-->
				<div id="showResult" style="display:none"><iframe height="350" width="700" frameborder="1" src="./results/clubes.html" id="iframeResult"></iframe></div>
				<p>&nbsp;</p>
				<!-- <div class="grey-box">
					<h3><a href="#">Curabitur elementum, odio tincidunt </a></h3>
					<a href="#"><img src="css/images/main-2.jpg" alt="" /></a>
					<p>
						<span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur elementum, odio tincidunt egestas</span>
						<a href="#" class="button">Read more</a>
					 </p>
				</div>
				<div class="grey-box last">
					<h3><a href="#">Etiam iaculis tortor vel arcu porta consectetur.</a></h3>
					<a href="#"><img src="css/images/main-3.jpg" alt="" /></a>
					<p>
						<span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur elementum, odio tincidunt egestas</span>
						<a href="#" class="button">Read more</a>
					 </p>
				</div> -->
				<div class="cl">&nbsp;</div>
				<div class="video-box">
					<div class="cl">&nbsp;</div>
					<h2 class="left">video spot</h2>
					<a href="#" class="button">All videos</a>
					<div class="cl">&nbsp;</div>
					<div class="video-item-box">
						<a href="#" class="left"><img src="css/images/video-1.jpg" alt="" /></a>
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>
						<a href="#" class="watch-now">Watch now</a>
					</div>
					<div class="video-item-box second">
						<a href="#" class="left"><img src="css/images/video-2.jpg" alt="" /></a>
						<p>Curabitur consectetur tellus a diam tincidunt pellentesque</p>
						<a href="#" class="watch-now">Watch now</a>
					</div>
					<div class="video-item-box">
						<a href="#" class="left"><img src="css/images/video-3.jpg" alt="" /></a>
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>
						<a href="#" class="watch-now">Watch now</a>
					</div>
					<div class="video-item-box second">
						<a href="#" class="left"><img src="css/images/video-4.jpg" alt="" /></a>
						<p>Aliquam erat volutpat. Nam tortor justo, pretium eget iaculis et</p>
						<a href="#" class="watch-now">Watch now</a>
					</div>
					<div class="cl">&nbsp;</div>
				</div>
			</div>
			<div class="cl">&nbsp;</div>
		</div>
	</div>
	<!-- End Main -->
	
	<!-- Footer -->
	<div id="footer">
		<div class="shell">
			<div class="cl">&nbsp;</div>
			<a href="#" class="left">TERMS OF USE</a>
			<a href="#" class="left">PRIVACY POLICY</a>
			<p class="right">&copy; Sitename.com. Design by <a href="http://chocotemplates.com">ChocoTemplates.com</a> | downloaded from <a href="http://www.mytemplatez.com">Free Templates</a></p>
			<div class="cl">&nbsp;</div>
		</div>
	</div>
	<!-- End Footer -->
</body>
</html>